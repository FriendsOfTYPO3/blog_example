<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
      xmlns:be="http://typo3.org/ns/TYPO3/CMS/Backend/ViewHelpers"
      xmlns:core="http://typo3.org/ns/TYPO3/CMS/Core/ViewHelpers"
      data-namespace-typo3-fluid="true">

<f:layout name="Default" />

<f:section name="iconButtons">
    <be:moduleLayout.button.linkButton
        icon="actions-add"
        title="Add new Blog"
        link="{f:uri.action(action:'new')}"
    />
    <be:moduleLayout.button.shortcutButton displayName="Shortcut" />
</f:section>

<f:section name="content">
    <f:if condition="{blogs}">
        <f:then>
            <p class="bodytext">Here is a list of blogs:</p>
            <ul>
                <f:for each="{blogs}" as="blog">
                    <li>
                        <h3>
                            <f:link.action action="index" controller="Post" arguments="{blog: blog}" title="Edit this Blog">
                                <core:icon identifier="actions-document-edit" />
                                {blog.title} (
                                <f:count subject="{blog.posts}" />
                                )
                            </f:link.action>
                        </h3>
                        <p>
                            <f:format.nl2br>{blog.description}</f:format.nl2br>
                        </p>
                    </li>
                </f:for>
            </ul>
            <p>
                <f:link.action action="deleteAll">Delete all Blogs [!!!]</f:link.action>
            </p>
        </f:then>
        <f:else>
            <p>
                <f:link.action action="populate">Create example data</f:link.action>
            </p>
        </f:else>
    </f:if>
</f:section>
</html>
